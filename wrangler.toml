name = "intake-api"
main = "src/index.ts"
compatibility_date = "2024-12-30"
compatibility_flags = ["nodejs_compat"]
# Set CLOUDFLARE_ACCOUNT_ID env var or uncomment and fill in:
# account_id = ""
# Routes are defined in wrangler.production.toml (gitignored).
# Deploy with: wrangler deploy --config wrangler.production.toml
# routes = [
#   { pattern = "intake.example.com/*", zone_name = "example.com" }
# ]

# Secrets (set via `wrangler secret put`):
# - INTAKE_API_KEY: Bearer token for /api/* routes

[vars]
ENVIRONMENT = "production"

[[r2_buckets]]
binding = "INTAKE_BUCKET"
bucket_name = "intake-uploads"
